<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="product_template_template">
        <t t-call="web.html_container">
            <t t-call="web.internal_layout">
                <div class="page">
                    <table class="table table-condensed">
                        <thead>
                            <tr>
                                <th>Image</th>
                                <th>Nom</th>
                                <th>Prix de gros</th>
                                <th>Référence interne</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr t-foreach="docs" t-as="doc">
                                <td>
                                    <img t-if="doc.image_1920"
                                        t-att-src="image_data_uri(doc.image_1920)" alt="Image"
                                        style="max-width: 150px; max-height: 150px" />
                                    <img t-else="" src="/web/static/img/placeholder.png"
                                        alt="Image"
                                        style="max-width: 125px; max-height: 100px" />
                                </td>it a
                                <td style="max-width: 250px">
                                    <t t-esc="doc.name" />
                                </td>
                                <t t-set="pricelist_8"
                                    t-value="env['product.pricelist'].search([('is_wholesaleprices','=',True)])" />
                                <t t-set="product_price"
                                    t-value="pricelist_8.price_get(doc.product_variant_id.id, 1).get(pricelist_8.id)" />

                                <td>
                                    <t t-esc="product_price"
                                        t-options="{'widget': 'float', 'precision': 2}" />
                                </td>
                                <td>
                                    <t t-esc="doc.default_code" />
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </t>
        </t>
    </template>

    <record id="report_product_template" model="ir.actions.report">
        <field name="name">Pricelist</field>
        <field name="model">product.template</field>
        <field name="report_type">qweb-pdf</field>
        <field name="report_name">tanatech_product.product_template_template</field>
        <field name="report_file">tanatech_product.product_template_template</field>
        <field name="binding_model_id" ref="product.model_product_template" />
        <field name="binding_type">report</field>
    </record>
</odoo>